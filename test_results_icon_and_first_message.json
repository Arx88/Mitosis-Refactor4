{
  "timestamp": "2025-07-23T13:27:46.048376",
  "backend_url": "https://34c40358-75f9-446c-9942-ad9f92d4bed7.preview.emergentagent.com",
  "test_summary": {
    "overall_status": "PASSED",
    "backend_health": "‚úÖ HEALTHY",
    "icon_mapping": "‚úÖ WORKING",
    "first_message_logic": "‚úÖ WORKING",
    "icon_mapping_success_rate": "100.0%",
    "first_message_success_rate": "100.0%",
    "total_tests_run": 8,
    "total_tests_passed": 8
  },
  "detailed_results": {
    "health": {
      "backend_accessible": true,
      "agent_health": true,
      "ollama_connected": false,
      "database_connected": false,
      "tools_available": false,
      "endpoints_working": {
        "/api/agent/status": true,
        "/api/health": true,
        "/api/agent/generate-plan": true
      },
      "overall_health": true
    },
    "icon_mapping": {
      "total_tests": 5,
      "passed": 5,
      "failed": 0,
      "test_results": [
        {
          "test_case": {
            "task": "Crear una aplicaci√≥n web con React y Node.js",
            "expected_icons": [
              "code",
              "globe",
              "terminal",
              "database"
            ],
            "category": "development"
          },
          "plan_icon": "code",
          "chat_icon": "code",
          "actual_icon": "code",
          "expected_icons": [
            "code",
            "globe",
            "terminal",
            "database"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Encontrar los mejores restaurantes en Madrid",
            "expected_icons": [
              "map",
              "search",
              "navigation"
            ],
            "category": "location"
          },
          "plan_icon": "map",
          "chat_icon": "map",
          "actual_icon": "map",
          "expected_icons": [
            "map",
            "search",
            "navigation"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Analizar datos de ventas del √∫ltimo trimestre",
            "expected_icons": [
              "chart",
              "database",
              "calculator"
            ],
            "category": "analysis"
          },
          "plan_icon": "chart",
          "chat_icon": "chart",
          "actual_icon": "chart",
          "expected_icons": [
            "chart",
            "database",
            "calculator"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Crear un documento t√©cnico sobre IA",
            "expected_icons": [
              "file",
              "book",
              "edit"
            ],
            "category": "document"
          },
          "plan_icon": "book",
          "chat_icon": "book",
          "actual_icon": "book",
          "expected_icons": [
            "file",
            "book",
            "edit"
          ],
          "icons_consistent": true,
          "icon_appropriate": true,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        },
        {
          "test_case": {
            "task": "Desarrollar una estrategia de marketing digital",
            "expected_icons": [
              "briefcase",
              "users",
              "dollar"
            ],
            "category": "business"
          },
          "plan_icon": "chart",
          "chat_icon": "chart",
          "actual_icon": "chart",
          "expected_icons": [
            "briefcase",
            "users",
            "dollar"
          ],
          "icons_consistent": true,
          "icon_appropriate": false,
          "icon_valid": true,
          "passed": true,
          "plan_response_success": true,
          "chat_response_success": true
        }
      ],
      "icon_mapping_working": true,
      "success_rate": 100.0
    },
    "first_message_logic": {
      "total_scenarios": 3,
      "passed": 3,
      "failed": 0,
      "scenario_results": [
        {
          "scenario": {
            "scenario": "New task creation with first message",
            "task_title": "Crear un an√°lisis de mercado para productos de software",
            "first_message": "Necesito un an√°lisis completo del mercado de software en 2025",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277386",
          "chat_response": {
            "enhanced_title": "An√°lisis del Mercado de Software 2025",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "alta",
              "estimated_total_time": "1 hora 45 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Utilizar herramienta web_search para buscar informaci√≥n actualizada y precisa sobre el mercado de software en 2025.",
                  "estimated_time": "30 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda de informaci√≥n sobre el mercado de software en 2025",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Utilizar herramienta analysis para analizar los resultados de la b√∫squeda y extraer informaci√≥n relevante sobre el mercado de software en 2025.",
                  "estimated_time": "45 minutos",
                  "id": "step_2",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Utilizar herramienta creation para crear un resumen de los hallazgos y presentarlos de manera clara y concisa.",
                  "estimated_time": "30 minutos",
                  "id": "step_3",
                  "priority": "media",
                  "status": "pending",
                  "title": "Crear un resumen de los hallazgos",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "chart",
              "task_type": "an√°lisis de mercado",
              "total_steps": 3
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. **Definir el alcance del an√°lisis**: Utilizar la herramienta `search_definition` para buscar definiciones y conceptos clave relacionados con el mercado de software en 2025.\n2. *...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:30",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. **Definir el alcance del an√°lisis**: Utilizar la herramienta `search_definition` para buscar definiciones y conceptos clave relacionados con el mercado de software en 2025.\n2. **Recopilar informaci√≥n sobre tendencias y predicciones**: Utilizar la herramienta `web_search` para buscar art√≠culos, informes y estudios de investigaci√≥n que describan las tendencias y predicciones del mercado de software en 2025.\n3. **An√°lisis de datos e informaci√≥n**: Utilizar la herramienta `data_analysis` para analizar los datos recopilados y extraer conclusiones sobre el crecimiento, segmentaci√≥n y competencia en el mercado de software en 2025.\n4. **Identificar oportunidades y desaf√≠os**: Utilizar la herramienta `analysis` para identificar oportunidades y desaf√≠os que enfrentar√°n las empresas del sector de software en 2025.\n5. **Resumen y recomendaciones**: Utilizar la herramienta `synthesis` para resumir los hallazgos y proporcionar recomendaciones a las empresas del sector de software sobre c√≥mo aprovechar las oportunidades y mitigar los desaf√≠os.\n**Explicaci√≥n:** Mi objetivo es proporcionar un an√°lisis completo y detallado del mercado de software en 2025. Utilizar√© herramientas para buscar informaci√≥n, analizar datos e identificar oportunidades y desaf√≠os. El plan se estructurar√° en orden l√≥gico, comenzando con la definici√≥n del alcance del an√°lisis y terminando con un resumen y recomendaciones.\n**Herramientas utilizadas:**\n* `search_definition`\n* `web_search`\n* `data_analysis`\n* `analysis`\n* `synthesis`",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:30:01.848598",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277386",
            "timestamp": "2025-07-23T13:30:01.849368",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 3,
            "plan_data": {
              "ai_generated": true,
              "complexity": "alta",
              "estimated_total_time": "1 hora 45 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Utilizar herramienta web_search para buscar informaci√≥n actualizada y precisa sobre el mercado de software en 2025.",
                  "estimated_time": "30 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda de informaci√≥n sobre el mercado de software en 2025",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Utilizar herramienta analysis para analizar los resultados de la b√∫squeda y extraer informaci√≥n relevante sobre el mercado de software en 2025.",
                  "estimated_time": "45 minutos",
                  "id": "step_2",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Utilizar herramienta creation para crear un resumen de los hallazgos y presentarlos de manera clara y concisa.",
                  "estimated_time": "30 minutos",
                  "id": "step_3",
                  "priority": "media",
                  "status": "pending",
                  "title": "Crear un resumen de los hallazgos",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "chart",
              "task_type": "an√°lisis de mercado",
              "total_steps": 3
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "An√°lisis del Mercado de Software 2025",
            "original_title": "Crear un an√°lisis de mercado para productos de software"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        },
        {
          "scenario": {
            "scenario": "Simple task with direct request",
            "task_title": "Buscar informaci√≥n sobre inteligencia artificial",
            "first_message": "Dame informaci√≥n actualizada sobre IA generativa",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277403",
          "chat_response": {
            "enhanced_title": "An√°lisis de Tendencias en IA Generativa",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "20 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar informaci√≥n actualizada sobre IA generativa utilizando herramientas de b√∫squeda en l√≠nea.",
                  "estimated_time": "5 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda en internet",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Evaluar y analizar los resultados obtenidos para determinar la informaci√≥n m√°s relevante y actualizada.",
                  "estimated_time": "10 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un resumen claro y conciso de la informaci√≥n obtenida sobre IA generativa.",
                  "estimated_time": "5 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear resumen de la informaci√≥n",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. Realizar una b√∫squeda exhaustiva en internet utilizando la herramienta **web_search** para encontrar fuentes confiables y actuales sobre IA generativa.\n2. Utilizar la herramient...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:30",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. Realizar una b√∫squeda exhaustiva en internet utilizando la herramienta **web_search** para encontrar fuentes confiables y actuales sobre IA generativa.\n2. Utilizar la herramienta **analysis** para analizar los resultados de la b√∫squeda e identificar patrones, tendencias y conceptos clave relacionados con IA generativa.\n3. Crear un resumen detallado de la informaci√≥n encontrada utilizando la herramienta **creation**, enfoc√°ndose en las caracter√≠sticas, aplicaciones y desaf√≠os actuales de la IA generativa.\n4. Realizar una b√∫squeda espec√≠fica de definiciones y conceptos clave relacionados con IA generativa utilizando la herramienta **search_definition**.\n5. Presentar los resultados finales en un formato claro y conciso utilizando la herramienta **delivery**.\n**Explicaci√≥n:** Utilizar√© las herramientas mencionadas para buscar, analizar e interpretar informaci√≥n actualizada sobre IA generativa. El plan de acci√≥n es espec√≠fico, detallado y estructurado para garantizar que se obtengan los resultados deseados. Las herramientas utilizadas ser√°n:",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:30:15.141351",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277403",
            "timestamp": "2025-07-23T13:30:15.142131",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 3,
            "plan_data": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "20 minutos",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Buscar informaci√≥n actualizada sobre IA generativa utilizando herramientas de b√∫squeda en l√≠nea.",
                  "estimated_time": "5 minutos",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Realizar b√∫squeda en internet",
                  "tool": "web_search"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Evaluar y analizar los resultados obtenidos para determinar la informaci√≥n m√°s relevante y actualizada.",
                  "estimated_time": "10 minutos",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Analizar resultados de la b√∫squeda",
                  "tool": "analysis"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Crear un resumen claro y conciso de la informaci√≥n obtenida sobre IA generativa.",
                  "estimated_time": "5 minutos",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear resumen de la informaci√≥n",
                  "tool": "creation"
                }
              ],
              "suggested_icon": "search",
              "task_type": "investigaci√≥n/b√∫squeda",
              "total_steps": 3
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "An√°lisis de Tendencias en IA Generativa",
            "original_title": "Buscar informaci√≥n sobre inteligencia artificial"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        },
        {
          "scenario": {
            "scenario": "Complex task requiring planning",
            "task_title": "Desarrollar estrategia de marketing digital",
            "first_message": "Quiero crear una estrategia completa de marketing para mi startup",
            "expected_behavior": "should_generate_plan"
          },
          "task_id": "test-task-1753277417",
          "chat_response": {
            "enhanced_title": "Estrategia de Marketing Integral para Startups",
            "execution_status": "executing",
            "memory_used": true,
            "mode": "agent_with_structured_plan",
            "plan": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "15 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Identificar el p√∫blico objetivo y los objetivos de la estrategia de marketing",
                  "estimated_time": "2 horas",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Definir objetivos de marketing",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Analizar a los competidores y su estrategia de marketing",
                  "estimated_time": "3 horas",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Investigar al competidor",
                  "tool": "research"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan de contenido que se adapte a los objetivos y al p√∫blico objetivo",
                  "estimated_time": "4 horas",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de contenido",
                  "tool": "creation"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Establecer un presupuesto y calendario para la publicidad y promoci√≥n",
                  "estimated_time": "2 horas",
                  "id": "step_4",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Crear un presupuesto y calendario de publicidad",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan para seguir y evaluar el progreso de la estrategia de marketing",
                  "estimated_time": "2 horas",
                  "id": "step_5",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de seguimiento y evaluaci√≥n",
                  "tool": "planning"
                }
              ],
              "suggested_icon": "briefcase",
              "task_type": "estrategia de marketing",
              "total_steps": 5
            },
            "response": {
              "deliverables_count": 0,
              "error": null,
              "files_generated": [],
              "message": "‚ÑπÔ∏è Tu solicitud ha sido procesada.\n\nüìã **Informaci√≥n**: **PLAN DE ACCI√ìN:**\n1. **Definir objetivos y audiencia**: Utilizar la herramienta **planning** para identificar los objetivos clave de la startup y definir la audiencia objetivo.\n2. **An√°lisis del mer...\n\nüìä **Estado**: plan_ready\n‚è∞ **Procesado**: 23/07/2025 13:30",
              "raw_ollama_response": "**PLAN DE ACCI√ìN:**\n1. **Definir objetivos y audiencia**: Utilizar la herramienta **planning** para identificar los objetivos clave de la startup y definir la audiencia objetivo.\n2. **An√°lisis del mercado**: Realizar un an√°lisis de competidores utilizando la herramienta **analysis**, con el fin de entender las tendencias actuales en el mercado y las fortalezas y debilidades de nuestros competidores.\n3. **Desarrollo de contenido**: Crear un plan de contenido utilizando la herramienta **creation**, que incluya estrategias para publicaciones en redes sociales, blog y correo electr√≥nico.\n4. **Plan de publicidad**: Utilizar la herramienta **web_search** para investigar las mejores opciones de publicidad en l√≠nea (Google Ads, Facebook Ads, etc.) y crear un plan de campa√±a.\n5. **Seguimiento y evaluaci√≥n**: Establecer indicadores clave de rendimiento (KPI) utilizando la herramienta **planning**, con el fin de medir el √©xito del plan de marketing.\n**Explicaci√≥n:** Mi objetivo es ayudar a crear una estrategia completa de marketing para tu startup. Para lograr esto, necesitar√© utilizar varias herramientas para recopilar y analizar informaci√≥n sobre el mercado, la audiencia y las opciones de publicidad en l√≠nea. El plan de acci√≥n incluye pasos espec√≠ficos para definir objetivos y audiencia, an√°lisis del mercado, desarrollo de contenido, plan de publicidad y seguimiento y evaluaci√≥n.\n**Herramientas a utilizar:**\n* **planning**: Para definir objetivos y audiencia\n* **analysis**: Para realizar un an√°lisis de competidores\n* **creation**: Para crear un plan de contenido\n* **web_search**: Para investigar opciones de publicidad en l√≠nea\n* **planning**: Para establecer indicadores clave de rendimiento (KPI)",
              "status": "plan_ready",
              "timestamp": "2025-07-23T13:30:32.176368",
              "tool_results_count": 0,
              "warnings": []
            },
            "task_id": "test-task-1753277417",
            "timestamp": "2025-07-23T13:30:32.177174",
            "tool_calls": [],
            "tool_results": []
          },
          "plan_generated": {
            "success": true,
            "steps_count": 5,
            "plan_data": {
              "ai_generated": true,
              "complexity": "media",
              "estimated_total_time": "15 horas",
              "plan_source": "unified_ai_generated",
              "schema_validated": true,
              "steps": [
                {
                  "active": true,
                  "completed": false,
                  "description": "Identificar el p√∫blico objetivo y los objetivos de la estrategia de marketing",
                  "estimated_time": "2 horas",
                  "id": "step_1",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Definir objetivos de marketing",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Analizar a los competidores y su estrategia de marketing",
                  "estimated_time": "3 horas",
                  "id": "step_2",
                  "priority": "media",
                  "status": "pending",
                  "title": "Investigar al competidor",
                  "tool": "research"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan de contenido que se adapte a los objetivos y al p√∫blico objetivo",
                  "estimated_time": "4 horas",
                  "id": "step_3",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de contenido",
                  "tool": "creation"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Establecer un presupuesto y calendario para la publicidad y promoci√≥n",
                  "estimated_time": "2 horas",
                  "id": "step_4",
                  "priority": "alta",
                  "status": "pending",
                  "title": "Crear un presupuesto y calendario de publicidad",
                  "tool": "planning"
                },
                {
                  "active": false,
                  "completed": false,
                  "description": "Desarrollar un plan para seguir y evaluar el progreso de la estrategia de marketing",
                  "estimated_time": "2 horas",
                  "id": "step_5",
                  "priority": "baja",
                  "status": "pending",
                  "title": "Crear un plan de seguimiento y evaluaci√≥n",
                  "tool": "planning"
                }
              ],
              "suggested_icon": "briefcase",
              "task_type": "estrategia de marketing",
              "total_steps": 5
            }
          },
          "title_enhanced": {
            "success": true,
            "enhanced_title": "Estrategia de Marketing Integral para Startups",
            "original_title": "Desarrollar estrategia de marketing digital"
          },
          "logs_correct": {
            "success": true,
            "mode": "agent_with_structured_plan",
            "execution_status": "executing"
          },
          "passed": true,
          "failure_reason": "Unknown failure"
        }
      ],
      "first_message_logic_working": true,
      "success_rate": 100.0
    }
  }
}